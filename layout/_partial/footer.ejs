<footer class="footer">
  <div class="footer-content">
    <% if (theme.footer.copyright && theme.footer.copyright_text){ %>
    <div class="footer-item copyright">
      <span>Copyright © <%= theme.footer.copyright_text %></span>
    </div>
    <% } %>

    <% if (theme.footer.beian && theme.footer.beian.enable){ %>
    <div class="footer-item beian">
      <% if (theme.footer.beian.icp && theme.footer.beian.gongan){ %>
      <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">
        <%= theme.footer.beian.icp %>
      </a>
      <span class="separator">|</span>
      <a href="https://www.beian.gov.cn/" target="_blank" rel="noopener">
        <% if (theme.footer.beian.gongan_icon){ %>
        <img src="<%= theme.footer.beian.gongan_icon %>" alt="公安备案图标">
        <% } %>
        <%= theme.footer.beian.gongan %>
      </a>
      <% } else if (theme.footer.beian.icp) { %>
      <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">
        <%= theme.footer.beian.icp %>
      </a>
      <% } else if (theme.footer.beian.gongan) { %>
      <a href="https://www.beian.gov.cn/" target="_blank" rel="noopener">
        <% if (theme.footer.beian.gongan_icon){ %>
        <img src="<%= theme.footer.beian.gongan_icon %>" alt="公安备案图标">
        <% } %>
        <%= theme.footer.beian.gongan %>
      </a>
      <% } %>
    </div>
    <% } %>

    <% if (theme.footer.statistics && theme.footer.statistics.enable && theme.footer.statistics.text){ %>
    <div class="footer-item statistics">
      <%= theme.footer.statistics.text %>
    </div>
    <% } %>

    <% if (theme.footer.powered && theme.footer.powered.enable && theme.footer.powered.text){ %>
    <div class="footer-item powered">
      <%= theme.footer.powered.text %>
    </div>
    <% } %>

    <% if (theme.footer.social && theme.footer.social.enable && theme.footer.social.links){ %>
    <div class="footer-item social-links">
      <% for (const [platform, url] of Object.entries(theme.footer.social.links)){ %>
      <a href="<%= url %>" target="_blank" rel="noopener" title="<%= platform %>" class="social-link">
        <span class="social-icon"><%= getSocialIcon(platform) %></span>
        <span class="social-text"><%= platform %></span>
      </a>
      <% } %>
    </div>
    <% } %>
  </div>
</footer>

<% function getSocialIcon(platform) {
  const icons = {
    github: 'G',
    twitter: 'T',
    weibo: 'W',
    zhihu: '知',
    bilibili: 'B',
    email: '@',
    rss: 'RSS',
    // 可以添加更多平台的图标
  };
  return icons[platform] || platform.charAt(0).toUpperCase();
} %>